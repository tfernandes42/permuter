FormPermuter (personSearch) Service 

The FormPermuter personSearch service assists in the construction of a personSearch query by extracting and processing information received through a personSearch form (XML file). 
A personSearch query is constructed to find historical newspaper articles about a particular person. 

The FormPermuter service takes input from a personSearch form (XML file).

The service outputs a triplet string that includes three fully formed triplets that include key information needed to conduct a personSearch. 
The triplet string can be appended to a base gateway request to retrieve targeted results for a specific person.

The FormPermuter service can be run as an endpoint service by using a curl command. 

INPUT
	personSearch file in XML format
	
OUTPUT
	Triplet string includes three fully formed triplets	

INTERACTION
	This service will be called with a POST. 
	On a POST, the content body is expected to be a personSearch form in XML format. 
	The service will process the data and output a triplet string.

	In stage-jvm009 environment, personSearch file as input 
		curl -d @fileName "http://127.0.0.1:8888/FormPermuter.txt"

	Other environment running curl, such as louie, personSearch file as input 
		curl -d @fileName "http://stage-jvm009.newsbank.com:8888/FormPermuter.txt"


	Append the triplet string to a base gateway request such as: 
		http://s072.newsbank.com:9090/gateway2/platform/fedsearch6?product=GB3NEWS&api_key=gb.com&type=triplet&maxhits=30

	FULL gateway request example: 
		http://s072.newsbank.com:9090/gateway2/platform/fedsearch6?product=GB3NEWS&api_key=gb.com&type=triplet&maxhits=30&p_field_primary-0=alltext&p_params_primary-0=weight:1&p_text_primary-0=("John Housman" OR "Housman John" OR "John B Housman")&p_bool_second-1=OR&p_field_second-1=alltext&p_params_second-1=weight:1&p_text_second-1=("East Orange" OR "Linden" OR "Ewing")&p_field_second-0=alltext&p_params_second-0=weight:3&p_text_second-0=("Mary Ann Housman" OR "Mary Housman" OR "Mary A Housman")

personSearch INPUT STRUCTURE
<personSearch>
<primary>
	<nameFirst/>
	<nameMid/>
	<birthLast/>
	<nameLast/>
</primary>
<second>
	<nameFirst/>
	<nameMid/>
	<nameLast/>
	<relationship/>
</second>
<second>
	<nameFirst/>
	<nameMid/>
	<birthLast/>
	<nameLast/>
	<relationship/>
</second>
<terms>
	<term/>
	<term/>
	<term/>
	<term/>
</terms>
</personSearch>


STARTING PERMUTER SERVICE 

The permuter runtime consists of a number of Java "jar" files and a shell script. 
Starting via the shell script takes the following form:
	./permuter-server.sh {-l /path/to/logconfg.xml} {-p port-to-run-on} {-H doc-service-host}

For stage-jvm009 VM installation, cd to the /distro directory and run the following command:
		nohup ./permuter-server.sh -l permuter-log4j.xml -p 8888 -H "http://localhost:10007/" &

FAQs
http://louie.newsbank.com/~cobrien/projects/2019person/personSearchServices.html#FAQs